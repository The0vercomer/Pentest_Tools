#!/bin/bash

echo "Input the network address of target IP scope."
read -p "IP=" SCOPE_IP
echo "Input target CIDR notation."
read -p "CIDR=/" CIDR
echo " Your target scope is $SCOPE_IP"/"$CIDR."

for IP in `echo $SCOPE_IP | cut -d "." -f1-3` ; do
for LAST in `echo $SCOPE_IP | cut -d "." -f4` ; do

if [ "$CIDR" == "24" ]
then
    if [ "$LAST" == "0" ]
    then
        for X in `seq 1 254` ; do
        ping -c 1 $IP.$X | grep "64 bytes" | cut -d " " -f 4 | tr -d ":" & done
    
    else
        echo "Please input a valid network address."
    fi

elif [ "$CIDR" == "25" ]
then
    if [ "$LAST" == "0" ]
    then
        for X in `seq 1 126` ; do
        ping -c 1 $IP.$X >> /tmp/IP.txt | grep "64 bytes" | cut -d " " -f 4 | tr -d ":" & done
    
    elif [ "$LAST" == "128" ]
    then
        for X in `seq 129 254` ; do
        ping -c 1 $IP.$X >> /tmp/IP.txt | grep "64 bytes" | cut -d " " -f 4 | tr -d ":" & done

    elif [ "$LAST" != "" ]
    then
        echo "Please input a valid network address."
    fi  

elif [ "$CIDR" == "26" ]
then
    if [ "$LAST" == "0" ]
    then
        for X in `seq 1 62` ; do
        ping -c 1 $IP.$X >> /tmp/IP.txt | grep "64 bytes" | cut -d " " -f 4 | tr -d ":" & done

    elif [ "$LAST" == "64" ]
    then
        for X in `seq 65 126` ; do
        ping -c 1 $IP.$X >> /tmp/IP.txt | grep "64 bytes" | cut -d " " -f 4 | tr -d ":" & done

    elif [ "$LAST" == "128" ]
    then
        for X in `seq 129 190` ; do
        ping -c 1 $IP.$X >> /tmp/IP.txt | grep "64 bytes" | cut -d " " -f 4 | tr -d ":" & done

    elif [ "$LAST" == "192" ]
    then
        for X in `seq 193 254` ; do
        ping -c 1 $IP.$X >> /tmp/IP.txt | grep "64 bytes" | cut -d " " -f 4 | tr -d ":" & done

    elif [ "$LAST" != "" ]
    then
        echo "Please input a valid network address." ;
    fi

elif [ "$CIDR" == "27" ]
then
    if [ "$LAST" == "0" ]
    then
        for X in `seq 1 30` ; do
        ping -c 1 $IP.$X >> /tmp/IP.txt | grep "64 bytes" | cut -d " " -f 4 | tr -d ":" & done

    elif [ "$LAST" == "32" ]
    then
        for X in `seq 33 62` ; do
        ping -c 1 $IP.$X >> /tmp/IP.txt | grep "64 bytes" | cut -d " " -f 4 | tr -d ":" & done

    elif [ "$LAST" == "64" ]
    then
        for X in `seq 65 94` ; do
        ping -c 1 $IP.$X >> /tmp/IP.txt | grep "64 bytes" | cut -d " " -f 4 | tr -d ":" & done

    elif [ "$LAST" == "96" ]
    then    
        for X in `seq 97 126` ; do
        ping -c 1 $IP.$X >> /tmp/IP.txt | grep "64 bytes" | cut -d " " -f 4 | tr -d ":" & done
    
    elif [ "$LAST" == "128" ]
    then
        for X in `seq 129 158` ; do
        ping -c 1 $IP.$X >> /tmp/IP.txt | grep "64 bytes" | cut -d " " -f 4 | tr -d ":" & done

    elif [ "$LAST" == "160" ]
    then
        for X in 'seq 161 190' ; do
        ping -c 1 $IP.$X >> /tmp/IP.txt | grep "64 bytes" | cut -d " " -f 4 | tr -d ":" & done

    elif [ "$LAST" == "192" ]
    then
        for X in `seq 193 222` ; do
        ping -c 1 $IP.$X >> /tmp/IP.txt | grep "64 bytes" | cut -d " " -f 4 | tr -d ":" & done

    elif [ "$LAST" == "224" ]
    then
        for X in `seq 225 254` ; do
        ping -c 1 $IP.$X >> /tmp/IP.txt | grep "64 bytes" | cut -d " " -f 4 | tr -d ":" & done

    elif [ "$LAST" != "" ]
    then
        echo "Please input a valid network address."
    fi

elif [ "$CIDR" == "28" ]
then
    if [ "$LAST" == "0" ]
    then
        for X in `seq 1 14` ; do
        ping -c 1 $IP.$X >> /tmp/IP.txt | grep "64 bytes" | cut -d " " -f 4 | tr -d ":" & done

    elif [ "$LAST" == "16" ]
    then
        for X in `seq 17 30` ; do
        ping -c 1 $IP.$X >> /tmp/IP.txt | grep "64 bytes" | cut -d " " -f 4 | tr -d ":" & done

    elif [ "$LAST" == "32" ]
    then
        for X in `seq 33 46` ; do
        ping -c 1 $IP.$X >> /tmp/IP.txt | grep "64 bytes" | cut -d " " -f 4 | tr -d ":" & done

    elif [ "$LAST" == "48" ]
    then
        for X in `seq 49 62` ; do
        ping -c 1 $IP.$X >> /tmp/IP.txt | grep "64 bytes" | cut -d " " -f 4 | tr -d ":" & done

    elif [ "$LAST" == "64" ]
    then
        for X in `seq 65 78` ; do
        ping -c 1 $IP.$X >> /tmp/IP.txt | grep "64 bytes" | cut -d " " -f 4 | tr -d ":" & done

    elif [ "$LAST" == "80" ]
    then
        for X in `seq 81 94` ; do
        ping -c 1 $IP.$X >> /tmp/IP.txt | grep "64 bytes" | cut -d " " -f 4 | tr -d ":" & done

    elif [ "$LAST" == "96" ]
    then    
        for X in `seq 97 110` ; do
        ping -c 1 $IP.$X >> /tmp/IP.txt | grep "64 bytes" | cut -d " " -f 4 | tr -d ":" & done

    elif [ "$LAST" == "112" ]
    then
        for X in `seq 113 126` ; do
        ping -c 1 $IP.$X >> /tmp/IP.txt | grep "64 bytes" | cut -d " " -f 4 | tr -d ":" & done

    elif [ "$LAST" == "128" ]
    then
        for X in `seq 129 142` ; do
        ping -c 1 $IP.$X >> /tmp/IP.txt | grep "64 bytes" | cut -d " " -f 4 | tr -d ":" & done

    elif [ "$LAST" == "144" ]
    then
        for X in `seq 145 158` ; do
        ping -c 1 $IP.$X >> /tmp/IP.txt | grep "64 bytes" | cut -d " " -f 4 | tr -d ":" & done

    elif [ "$LAST" == "160" ]
    then
        for X in 'seq 161 174' ; do
        ping -c 1 $IP.$X >> /tmp/IP.txt | grep "64 bytes" | cut -d " " -f 4 | tr -d ":" & done

    elif [ "$LAST" == "176" ]
    then
        for X in `seq 177 190` ; do
        ping -c 1 $IP.$X >> /tmp/IP.txt | grep "64 bytes" | cut -d " " -f 4 | tr -d ":" & done

    elif [ "$LAST" == "192" ]
    then
        for X in `seq 193 206` ; do
        ping -c 1 $IP.$X >> /tmp/IP.txt | grep "64 bytes" | cut -d " " -f 4 | tr -d ":" & done

    elif [ "$LAST" == "208" ]
    then
        for X in `seq 209 222` ; do
        ping -c 1 $IP.$X >> /tmp/IP.txt | grep "64 bytes" | cut -d " " -f 4 | tr -d ":" & done

    elif [ "$LAST" == "224" ]
    then
        for X in `seq 225 238` ; do
        ping -c 1 $IP.$X >> /tmp/IP.txt | grep "64 bytes" | cut -d " " -f 4 | tr -d ":" & done

    elif [ "$LAST" == "240" ]
    then
        for X in `seq 241 254` ; do
        ping -c 1 $IP.$X >> /tmp/IP.txt | grep "64 bytes" | cut -d " " -f 4 | tr -d ":" & done

    elif [ "$LAST" != "" ]
    then
        echo "Please input a valid network address."
    fi

elif [ "$CIDR" == "29" ]
then
    if [ "$LAST" == "0" ]
    then
        for X in `seq 1 6` ; do
        ping -c 1 $IP.$X >> /tmp/IP.txt | grep "64 bytes" | cut -d " " -f 4 | tr -d ":" & done

    elif [ "$LAST" == "8" ]
    then
        for X in `seq 9 14` ; do
        ping -c 1 $IP.$X >> /tmp/IP.txt | grep "64 bytes" | cut -d " " -f 4 | tr -d ":" & done

    elif [ "$LAST" == "16" ]
    then
        for X in `seq 17 22` ; do
        ping -c 1 $IP.$X >> /tmp/IP.txt | grep "64 bytes" | cut -d " " -f 4 | tr -d ":" & done

    elif [ "$LAST" == "24" ]
    then
        for X in `seq 25 30` ; do
        ping -c 1 $IP.$X >> /tmp/IP.txt | grep "64 bytes" | cut -d " " -f 4 | tr -d ":" & done

    elif [ "$LAST" == "32" ]
    then
        for X in `seq 33 38` ; do
        ping -c 1 $IP.$X >> /tmp/IP.txt | grep "64 bytes" | cut -d " " -f 4 | tr -d ":" & done

    elif [ "$LAST" == "40" ]
    then
        for X in `seq 41 46` ; do
        ping -c 1 $IP.$X >> /tmp/IP.txt | grep "64 bytes" | cut -d " " -f 4 | tr -d ":" & done

    elif [ "$LAST" == "48" ]
    then
        for X in `seq 49 54` ; do
        ping -c 1 $IP.$X >> /tmp/IP.txt | grep "64 bytes" | cut -d " " -f 4 | tr -d ":" & done

    elif [ "$LAST" == "56" ]
    then
        for X in `seq 57 62` ; do
        ping -c 1 $IP.$X >> /tmp/IP.txt | grep "64 bytes" | cut -d " " -f 4 | tr -d ":" & done

    elif [ "$LAST" == "64" ]
    then
        for X in `seq 65 70` ; do
        ping -c 1 $IP.$X >> /tmp/IP.txt | grep "64 bytes" | cut -d " " -f 4 | tr -d ":" & done

    elif [ "$LAST" == "72" ]
    then
        for X in `seq 73 78` ; do
        ping -c 1 $IP.$X >> /tmp/IP.txt | grep "64 bytes" | cut -d " " -f 4 | tr -d ":" & done

    elif [ "$LAST" == "80" ]
    then
        for X in `seq 81 86` ; do
        ping -c 1 $IP.$X >> /tmp/IP.txt | grep "64 bytes" | cut -d " " -f 4 | tr -d ":" & done

    elif [ "$LAST" == "88" ]
    then
        for X in `seq 89 94` ; do
        ping -c 1 $IP.$X >> /tmp/IP.txt | grep "64 bytes" | cut -d " " -f 4 | tr -d ":" & done

    elif [ "$LAST" == "96" ]
    then    
        for X in `seq 97 102` ; do
        ping -c 1 $IP.$X >> /tmp/IP.txt | grep "64 bytes" | cut -d " " -f 4 | tr -d ":" & done

    elif [ "$LAST" == "104" ]
    then
        for X in `seq 105 110` ; do
        ping -c 1 $IP.$X >> /tmp/IP.txt | grep "64 bytes" | cut -d " " -f 4 | tr -d ":" & done

    elif [ "$LAST" == "112" ]
    then
        for X in `seq 113 118` ; do
        ping -c 1 $IP.$X >> /tmp/IP.txt | grep "64 bytes" | cut -d " " -f 4 | tr -d ":" & done

    elif [ "$LAST" == "120" ]
    then
        for X in `seq 121 126` ; do
        ping -c 1 $IP.$X >> /tmp/IP.txt | grep "64 bytes" | cut -d " " -f 4 | tr -d ":" & done

    elif [ "$LAST" == "128" ]
    then
        for X in `seq 129 134` ; do
        ping -c 1 $IP.$X >> /tmp/IP.txt | grep "64 bytes" | cut -d " " -f 4 | tr -d ":" & done

    elif [ "$LAST" == "136" ]
    then
        for X in `seq 137 142` ; do
        ping -c 1 $IP.$X >> /tmp/IP.txt | grep "64 bytes" | cut -d " " -f 4 | tr -d ":" & done

    elif [ "$LAST" == "144" ]
    then
        for X in `seq 145 150` ; do
        ping -c 1 $IP.$X >> /tmp/IP.txt | grep "64 bytes" | cut -d " " -f 4 | tr -d ":" & done

    elif [ "$LAST" == "152" ]
    then
        for X in `seq 153 158` ; do
        ping -c 1 $IP.$X >> /tmp/IP.txt | grep "64 bytes" | cut -d " " -f 4 | tr -d ":" & done

    elif [ "$LAST" == "160" ]
    then
        for X in 'seq 161 166' ; do
        ping -c 1 $IP.$X >> /tmp/IP.txt | grep "64 bytes" | cut -d " " -f 4 | tr -d ":" & done

    elif [ "$LAST" == "168" ]
    then
        for X in `seq 167 174` ; do
        ping -c 1 $IP.$X >> /tmp/IP.txt | grep "64 bytes" | cut -d " " -f 4 | tr -d ":" & done

    elif [ "$LAST" == "176" ]
    then
        for X in `seq 177 182` ; do
        ping -c 1 $IP.$X >> /tmp/IP.txt | grep "64 bytes" | cut -d " " -f 4 | tr -d ":" & done

    elif [ "$LAST" == "184" ]
    then
        for X in `seq 185 190` ; do
        ping -c 1 $IP.$X >> /tmp/IP.txt | grep "64 bytes" | cut -d " " -f 4 | tr -d ":" & done

    elif [ "$LAST" == "192" ]
    then
        for X in `seq 193 198` ; do
        ping -c 1 $IP.$X >> /tmp/IP.txt | grep "64 bytes" | cut -d " " -f 4 | tr -d ":" & done

    elif [ "$LAST" == "200" ]
    then
        for X in `seq 201 206` ; do
        ping -c 1 $IP.$X >> /tmp/IP.txt | grep "64 bytes" | cut -d " " -f 4 | tr -d ":" & done

    elif [ "$LAST" == "208" ]
    then
        for X in `seq 209 214` ; do
        ping -c 1 $IP.$X >> /tmp/IP.txt | grep "64 bytes" | cut -d " " -f 4 | tr -d ":" & done

    elif [ "$LAST" == "216" ]
    then
        for X in `seq 217 222` ; do
        ping -c 1 $IP.$X >> /tmp/IP.txt | grep "64 bytes" | cut -d " " -f 4 | tr -d ":" & done

    elif [ "$LAST" == "224" ]
    then
        for X in `seq 225 230` ; do
        ping -c 1 $IP.$X >> /tmp/IP.txt | grep "64 bytes" | cut -d " " -f 4 | tr -d ":" & done

    elif [ "$LAST" == "232" ]
    then
        for X in `seq 233 238` ; do
        ping -c 1 $IP.$X >> /tmp/IP.txt | grep "64 bytes" | cut -d " " -f 4 | tr -d ":" & done

    elif [ "$LAST" == "240" ]
    then
        for X in `seq 241 246` ; do
        ping -c 1 $IP.$X >> /tmp/IP.txt | grep "64 bytes" | cut -d " " -f 4 | tr -d ":" & done

    elif [ "$LAST" == "248" ]
    then
        for X in `seq 249 254` ; do
        ping -c 1 $IP.$X >> /tmp/IP.txt | grep "64 bytes" | cut -d " " -f 4 | tr -d ":" & done

    elif [ "$LAST" != "" ]
    then
        echo "Please input a valid network address."
    fi

elif [ "$CIDR" == "" ]
    echo "Please input a valid IPv4 Class C CIDR notation.";
then
    cat /tmp/IP.txt
fi
